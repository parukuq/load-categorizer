 function filterLoads(type) {
    const input = document.getElementById('inputText').value;
    const lanes = extractLaneData(input);
    let filtered = [];

    switch(type) {
        case 'BOX':
            filtered = lanes.filter(lane => {
                // Match patterns like PX12345, PW12345, etc.
                const pPattern = /P[A-Z][0-9]+/;
                return pPattern.test(lane);
            });
            break;
        case '53FT':
            filtered = lanes.filter(lane => {
                // Match patterns with 3 or more alphanumeric characters
                // but exclude patterns starting with P followed by numbers
                const alphaNumPattern = /[A-Z0-9]{3,}/;
                const pPattern = /P[A-Z][0-9]+/;
                return alphaNumPattern.test(lane) && !pPattern.test(lane) && !lane.includes('ITR') && !lane.includes('VENDOR');
            });
            break;
        case 'VENDOR':
            filtered = lanes.filter(lane => lane.includes('VENDOR'));
            break;
        case 'ITR':
            filtered = lanes.filter(lane => lane.includes('ITR'));
            break;
    }

    document.getElementById('outputText').innerText = filtered.join('\n');
    document.getElementById('countDisplay').innerText = `Total ${type} Loads: ${filtered.length}`;
    
    // Update active button
    document.querySelectorAll('.header-button').forEach(button => {
        button.classList.remove('active');
    });
    event.target.classList.add('active');
}
